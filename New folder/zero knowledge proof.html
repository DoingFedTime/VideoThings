<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Zero‑Knowledge Proofs — Visual Explanation</title>
  <!-- Google Font → crisp, modern typography -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
  <style>
    :root {
      --bg: #0d1117;
      --fg: #e6edf3;
      --accent: #58a6ff;
      --prover: #2ecc71;
      --verifier: #3498db;
      --door: #e67e22;
    }
    * { box-sizing: border-box; }
    body {
      margin: 0;
      font-family: 'Inter', sans-serif;
      background: var(--bg);
      color: var(--fg);
      overflow: hidden;
    }
    #app {
      position: relative;
      width: 100vw;
      height: 100vh;
    }
    .slide {
      position: absolute;
      inset: 0;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      gap: 1rem;
      padding: 2rem;
      text-align: center;
      opacity: 0;               /* will be faded in via GSAP */
    }
    h1 {
      font-size: clamp(2rem, 5vw, 4rem);
      margin: 0;
    }
    h2 {
      font-size: clamp(1.5rem, 4vw, 3rem);
      margin: 0 0 0.5rem 0;
    }
    svg { max-width: 90%; height: auto; }
    p { max-width: 44ch; font-size: clamp(1rem, 2.2vw, 1.25rem); line-height: 1.45; margin: 0; }
    ul { list-style: none; padding: 0; margin: 0; }
    li::before { content: "⦿ "; color: var(--accent); }
  </style>
</head>
<body>
<div id="app">
  <!-- Slide 1 → Big title + core message -->
  <div class="slide" id="s1">
    <h1>Zero‑Knowledge Proofs</h1>
    <p>Prove you know a secret&nbsp;—&nbsp;without revealing the secret.</p>
  </div>

  <!-- Slide 2 → Introduce the cave scenario -->
  <div class="slide" id="s2">
    <p>Scenario: a circular cave with a magic door.</p>
    <svg viewBox="0 0 800 400">
      <path d="M100 200 Q400 0 700 200" stroke="gray" stroke-width="60" fill="none" stroke-linecap="round"/>
      <path d="M100 200 Q400 400 700 200" stroke="gray" stroke-width="60" fill="none" stroke-linecap="round"/>
      <!-- Door → thinner line, opens later -->
      <line x1="400" y1="200" x2="400" y2="140" stroke="var(--door)" stroke-width="40" stroke-linecap="round" id="door"/>
      <!-- Characters → simple circles -->
      <circle cx="100" cy="200" r="20" fill="var(--verifier)" id="verifier"/>
      <circle cx="100" cy="200" r="20" fill="var(--prover)" id="prover"/>
    </svg>
    <p><span style="color:var(--prover)">Prover</span> claims she can open the door.<br>
       <span style="color:var(--verifier)">Verifier</span> wants proof—without learning the password.</p>
  </div>

  <!-- Slide 3 → Prover chooses a random path -->
  <div class="slide" id="s3">
    <p>Step 1: Prover walks down a <em>random</em> path.</p>
    <svg viewBox="0 0 800 400">
      <path d="M100 200 Q400 0 700 200" stroke="gray" stroke-width="60" fill="none" stroke-linecap="round"/>
      <path d="M100 200 Q400 400 700 200" stroke="gray" stroke-width="60" fill="none" stroke-linecap="round"/>
      <line x1="400" y1="200" x2="400" y2="140" stroke="var(--door)" stroke-width="40" stroke-linecap="round"/>
      <circle cx="100" cy="200" r="20" fill="var(--verifier)"/>
      <circle cx="100" cy="200" r="20" fill="var(--prover)" id="prover2"/>
    </svg>
  </div>

  <!-- Slide 4 → Verifier calls the side -->
  <div class="slide" id="s4">
    <p>Step 2: Verifier calls out which side to appear from.</p>
    <svg viewBox="0 0 800 400">
      <path d="M100 200 Q400 0 700 200" stroke="gray" stroke-width="60" fill="none" stroke-linecap="round"/>
      <path d="M100 200 Q400 400 700 200" stroke="gray" stroke-width="60" fill="none" stroke-linecap="round"/>
      <line x1="400" y1="200" x2="400" y2="140" stroke="var(--door)" stroke-width="40" stroke-linecap="round"/>
      <circle cx="100" cy="200" r="20" fill="var(--verifier)" id="verifier4"/>
      <text x="140" y="180" fill="var(--fg)" font-size="22" font-family="Inter" id="choiceText">“Left!”</text>
      <circle cx="700" cy="200" r="20" fill="var(--prover)" id="prover4"/>
    </svg>
  </div>

  <!-- Slide 5 → Door opens, prover re‑emerges correctly → repeat -->
  <div class="slide" id="s5">
    <p>Step 3: Knowing the password, Prover opens the door and returns from the chosen side.</p>
    <svg viewBox="0 0 800 400">
      <path d="M100 200 Q400 0 700 200" stroke="gray" stroke-width="60" fill="none" stroke-linecap="round"/>
      <path d="M100 200 Q400 400 700 200" stroke="gray" stroke-width="60" fill="none" stroke-linecap="round"/>
      <line x1="400" y1="200" x2="400" y2="140" stroke="var(--door)" stroke-width="40" stroke-linecap="round" id="door5"/>
      <circle cx="700" cy="200" r="20" fill="var(--prover)" id="prover5"/>
      <circle cx="100" cy="200" r="20" fill="var(--verifier)"/>
    </svg>
    <p>Repeat many rounds → Verifier’s confidence skyrockets.</p>
  </div>

  <!-- Slide 6 → Principles Summary -->
  <div class="slide" id="s6">
    <h2>Why it works 🔑</h2>
    <ul style="font-size:1.15rem; line-height:1.55; max-width:600px; text-align:left; margin:0 auto;">
      <li><strong>Completeness</strong> — an honest Prover always convinces.</li>
      <li><strong>Soundness</strong> — a cheater is caught with high probability.</li>
      <li><strong>Zero Knowledge</strong> — Verifier learns <em>nothing</em> beyond “Prover knows the secret.”</li>
    </ul>
  </div>

  <!-- Slide 7 → Real‑world applications -->
  <div class="slide" id="s7">
    <h2>Real‑world uses</h2>
    <p>🔒 Anonymous cryptocurrency transactions (Zcash)<br>
       🪪 Privacy‑preserving ID checks (age proof)<br>
       🖥️ Secure log‑ins without passwords</p>
    <p style="font-size:0.9rem; opacity:0.7">— All possible thanks to Zero‑Knowledge Proofs.</p>
  </div>
</div>

<!-- GSAP for smooth, chained animations (CDN) -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
<script>
  // Basic slide‑in / slide‑out timeline
  const slides = gsap.utils.toArray('.slide');
  gsap.set(slides, { autoAlpha: 0 });

  const tl = gsap.timeline({ defaults: { duration: 0.9, ease: 'power2.out' } });
  slides.forEach((slide, i) => {
    tl.to(slide, { autoAlpha: 1 }, i === 0 ? 0 : '+=0.1')
      .to(slide, { delay: (i === slides.length - 1) ? 6 : 3, autoAlpha: 0 });
  });

  // Detailed character motion for the cave demonstration
  // Prover walks left path, opens door, appears right → visually reinforces the idea.
  gsap.to('#prover2', { delay: 1.4, duration: 1.2, x: 300, y: -150, ease: 'power1.inOut' }); // Prover goes left up
  gsap.fromTo('#door', { strokeWidth: 40 }, { delay: 2.7, duration: 0.6, strokeWidth: 0, ease: 'power1.in' }); // Door “opens”
  gsap.to('#prover2', { delay: 3.4, duration: 1.2, x: 600, y: 0, ease: 'power1.inOut' }); // Prover pops out right

  // Verifier’s random choice text pulse
  gsap.fromTo('#choiceText', { scale: 1.25 }, { delay: 7, duration: 0.3, scale: 1, repeat: 6, yoyo: true, ease: 'power1.inOut' });

  // Prover obeys the call (moves left‑to‑right)
  gsap.to('#prover4', { delay: 8.6, duration: 1.2, x: -600, ease: 'power1.inOut' });

  // Door opens again (second diagram)
  gsap.fromTo('#door5', { strokeWidth: 40 }, { delay: 12, duration: 0.7, strokeWidth: 0, ease: 'power1.in' });
</script>
</body>
</html>
